{"ast":null,"code":"import _objectSpread from \"D:/acm/ACM-main/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _jsxFileName = \"D:\\\\acm\\\\ACM-main\\\\client\\\\src\\\\pages\\\\admin\\\\AdminUsers.js\",\n  _s = $RefreshSig$();\n// AdminUsers.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport ReactToPrint from 'react-to-print'; // NEW: Import ReactToPrint\n\n// API base URL for admin user management\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5000/api/admin/users';\nfunction AdminUsers() {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [activeTab, setActiveTab] = useState('customer'); // Use backend role names for tabs\n  const [showModal, setShowModal] = useState(false);\n  const [editingUser, setEditingUser] = useState(null);\n  const [form, setForm] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    password: '',\n    role: 'customer',\n    // Default to customer\n    address: ''\n  });\n  const [loading, setLoading] = useState(true);\n  const [submitError, setSubmitError] = useState('');\n  const [submitSuccess, setSubmitSuccess] = useState('');\n  const [searchTerm, setSearchTerm] = useState(''); // NEW: Search term state\n\n  const componentRef = useRef(); // NEW: Ref for the component to print\n\n  const locations = ['Guntur', 'Prakasam', 'Krishna', 'Vijayawada', 'Nellore', 'Ongole', 'Tenali', 'Narasaraopet'];\n\n  // Role mapping between display names and database values\n  const roleDisplayMap = {\n    'customer': 'Customer',\n    'employee': 'Employee',\n    'customercare': 'Customer Care',\n    'admin': 'Admin'\n  };\n  const roles = Object.keys(roleDisplayMap); // Array of backend role names\n\n  // Fetch users from database on mount\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n  async function fetchUsers() {\n    try {\n      setLoading(true);\n      const token = sessionStorage.getItem('token'); // Changed from localStorage\n      if (!token) {\n        setSubmitError(\"Authentication required. Please log in.\");\n        setLoading(false);\n        return;\n      }\n      const {\n        data\n      } = await axios.get(API_URL, {\n        headers: {\n          Authorization: \"Bearer \".concat(token)\n        }\n      });\n      setUsers(data);\n      setSubmitError('');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Fetch failed', err);\n      setSubmitError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to load users. Please check your connection or login again.');\n    } finally {\n      setLoading(false);\n    }\n  }\n  function openModal() {\n    let user = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    setSubmitError('');\n    setSubmitSuccess('');\n    if (user) {\n      var _user$profile, _user$profile2, _user$profile3;\n      setEditingUser(user);\n      setForm({\n        name: ((_user$profile = user.profile) === null || _user$profile === void 0 ? void 0 : _user$profile.name) || '',\n        email: ((_user$profile2 = user.profile) === null || _user$profile2 === void 0 ? void 0 : _user$profile2.email) || '',\n        phone: user.phone || '',\n        password: '',\n        // Don't populate password for security\n        role: user.role || 'customer',\n        address: ((_user$profile3 = user.profile) === null || _user$profile3 === void 0 ? void 0 : _user$profile3.address) || ''\n      });\n    } else {\n      setEditingUser(null);\n      setForm({\n        name: '',\n        email: '',\n        phone: '',\n        password: '',\n        role: activeTab,\n        address: ''\n      });\n    }\n    setShowModal(true);\n  }\n  async function saveUser() {\n    setSubmitError('');\n    setSubmitSuccess('');\n    try {\n      // Client-side validation\n      if (!form.name.trim()) {\n        setSubmitError('Name is required');\n        return;\n      }\n      if (!form.phone.trim()) {\n        setSubmitError('Phone number is required');\n        return;\n      }\n      if (!/^\\d{10}$/.test(form.phone.trim())) {\n        setSubmitError('Phone number must be a 10-digit number');\n        return;\n      }\n      if (!editingUser && !form.password.trim()) {\n        setSubmitError('Password is required for new users');\n        return;\n      }\n      if (form.password.trim() && form.password.trim().length < 6) {\n        setSubmitError('Password must be at least 6 characters long');\n        return;\n      }\n      if (form.email.trim() && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.email.trim())) {\n        setSubmitError('Invalid email format');\n        return;\n      }\n      const token = sessionStorage.getItem('token'); // Changed from localStorage\n      if (!token) {\n        setSubmitError('You must be logged in');\n        return;\n      }\n      const headers = {\n        'Content-Type': 'application/json',\n        'Authorization': \"Bearer \".concat(token)\n      };\n\n      // Format user data according to the database schema\n      const userData = {\n        phone: form.phone.trim(),\n        role: form.role,\n        profile: {\n          name: form.name.trim(),\n          email: form.email.trim() || '',\n          address: form.address.trim() || ''\n        }\n      };\n\n      // Only include password for new users or if password field is filled\n      if (form.password.trim()) {\n        userData.password = form.password.trim();\n      }\n      console.log('Sending user data:', userData); // Added console log\n\n      if (editingUser) {\n        // Update existing user\n        await axios.put(\"\".concat(API_URL, \"/\").concat(editingUser._id), userData, {\n          headers\n        });\n        setSubmitSuccess('User updated successfully');\n      } else {\n        // Create new user\n        await axios.post(API_URL, userData, {\n          headers\n        });\n        setSubmitSuccess('User created successfully');\n      }\n      setShowModal(false);\n      fetchUsers(); // Refresh the list\n      setTimeout(() => setSubmitSuccess(''), 3000); // Clear success message\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error saving user:', error);\n      setSubmitError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message);\n    }\n  }\n  async function deleteUser(id) {\n    if (!window.confirm('Are you sure you want to delete this user?')) return;\n    setSubmitError('');\n    setSubmitSuccess('');\n    try {\n      const token = sessionStorage.getItem('token'); // Changed from localStorage\n      if (!token) {\n        setSubmitError(\"Authentication required. Please log in.\");\n        return;\n      }\n      await axios.delete(\"\".concat(API_URL, \"/\").concat(id), {\n        headers: {\n          Authorization: \"Bearer \".concat(token)\n        }\n      });\n      await fetchUsers();\n      setSubmitSuccess('User deleted successfully');\n      setTimeout(() => setSubmitSuccess(''), 3000); // Clear success message\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Delete failed', err);\n      setSubmitError(\"Error deleting user: \".concat(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Unknown error'));\n    }\n  }\n  function handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(f => _objectSpread(_objectSpread({}, f), {}, {\n      [name]: value\n    }));\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center\",\n      children: \"Loading users...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 12\n    }, this);\n  }\n  const filteredUsers = users.filter(u => {\n    var _u$profile, _u$profile$name, _u$phone, _u$profile2, _u$profile2$email;\n    return u.role === activeTab && (((_u$profile = u.profile) === null || _u$profile === void 0 ? void 0 : (_u$profile$name = _u$profile.name) === null || _u$profile$name === void 0 ? void 0 : _u$profile$name.toLowerCase().includes(searchTerm.toLowerCase())) || ((_u$phone = u.phone) === null || _u$phone === void 0 ? void 0 : _u$phone.includes(searchTerm)) || ((_u$profile2 = u.profile) === null || _u$profile2 === void 0 ? void 0 : (_u$profile2$email = _u$profile2.email) === null || _u$profile2$email === void 0 ? void 0 : _u$profile2$email.toLowerCase().includes(searchTerm.toLowerCase())));\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"page-title\",\n      children: \"User Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), submitError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-message error\",\n      children: submitError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }, this), submitSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-message success\",\n      children: submitSuccess\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      style: {\n        marginBottom: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search by name, phone, or email...\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value),\n        className: \"form-control\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-nav\",\n      children: roles.map(r => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab(r),\n        className: \"tab-button \".concat(activeTab === r ? 'active' : ''),\n        children: [roleDisplayMap[r], \"s (\", users.filter(u => u.role === r).length, \")\"]\n      }, r, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        marginBottom: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => openModal(),\n        className: \"btn btn-accent\",\n        children: [\"\\u2795 Add \", roleDisplayMap[activeTab]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReactToPrint, {\n        trigger: () => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          children: [\"\\uD83D\\uDDA8\\uFE0F Print \", roleDisplayMap[activeTab], \"s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 26\n        }, this),\n        content: () => componentRef.current,\n        documentTitle: \"\".concat(roleDisplayMap[activeTab], \"s List\"),\n        pageStyle: \"@page { size: A4; margin: 10mm; } @media print { body { -webkit-print-color-adjust: exact; } }\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: componentRef,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: 'center',\n          marginBottom: '1rem',\n          display: 'none'\n        },\n        className: \"print-only\",\n        children: [roleDisplayMap[activeTab], \"s List - \", new Date().toLocaleDateString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"data-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), (activeTab === 'employee' || activeTab === 'customer') && /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 70\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [filteredUsers.map(u => {\n            var _u$profile3, _u$profile4, _u$profile5;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: ((_u$profile3 = u.profile) === null || _u$profile3 === void 0 ? void 0 : _u$profile3.name) || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ((_u$profile4 = u.profile) === null || _u$profile4 === void 0 ? void 0 : _u$profile4.email) || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: u.phone || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this), (activeTab === 'employee' || activeTab === 'customer') && /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ((_u$profile5 = u.profile) === null || _u$profile5 === void 0 ? void 0 : _u$profile5.address) || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 72\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => openModal(u),\n                  className: \"btn btn-secondary btn-sm\",\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => deleteUser(u._id),\n                  className: \"btn btn-danger btn-sm\",\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 17\n              }, this)]\n            }, u._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this);\n          }), filteredUsers.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: activeTab === 'employee' || activeTab === 'customer' ? 5 : 4,\n              className: \"text-center\",\n              children: [\"No \", roleDisplayMap[activeTab].toLowerCase(), \"s found.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"modal-title\",\n          children: editingUser ? 'Edit User' : \"Add New \".concat(roleDisplayMap[activeTab])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"name\",\n            type: \"text\",\n            value: form.name,\n            onChange: handleChange,\n            className: \"form-control\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            type: \"email\",\n            value: form.email,\n            onChange: handleChange,\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Phone:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"phone\",\n            type: \"text\",\n            value: form.phone,\n            onChange: handleChange,\n            className: \"form-control\",\n            required: true,\n            placeholder: \"10-digit number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Password \", editingUser && '(leave blank to keep current)', \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            type: \"password\",\n            value: form.password,\n            onChange: handleChange,\n            className: \"form-control\",\n            required: !editingUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Role:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"role\",\n            value: form.role,\n            onChange: handleChange,\n            className: \"form-control\",\n            children: roles.map(role => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: role,\n              children: roleDisplayMap[role]\n            }, role, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 13\n        }, this), (form.role === 'employee' || form.role === 'customer') && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: form.role === 'employee' ? 'Work Address:' : 'Address:'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 17\n          }, this), form.role === 'employee' ? /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"address\",\n            value: form.address,\n            onChange: handleChange,\n            className: \"form-control\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 21\n            }, this), locations.map(loc => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: loc,\n              children: loc\n            }, loc, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 23\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"address\",\n            value: form.address,\n            onChange: handleChange,\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowModal(false),\n            className: \"btn btn-outline\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: saveUser,\n            className: \"btn btn-primary\",\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminUsers, \"88WyO2szomgq6w07BgcFvlbQmmo=\");\n_c = AdminUsers;\nexport default AdminUsers;\nvar _c;\n$RefreshReg$(_c, \"AdminUsers\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","ReactToPrint","jsxDEV","_jsxDEV","API_URL","AdminUsers","_s","users","setUsers","activeTab","setActiveTab","showModal","setShowModal","editingUser","setEditingUser","form","setForm","name","email","phone","password","role","address","loading","setLoading","submitError","setSubmitError","submitSuccess","setSubmitSuccess","searchTerm","setSearchTerm","componentRef","locations","roleDisplayMap","roles","Object","keys","fetchUsers","token","sessionStorage","getItem","data","get","headers","Authorization","concat","err","_err$response","_err$response$data","console","error","response","message","openModal","user","arguments","length","undefined","_user$profile","_user$profile2","_user$profile3","profile","saveUser","trim","test","userData","log","put","_id","post","setTimeout","_error$response","_error$response$data","deleteUser","id","window","confirm","delete","_err$response2","_err$response2$data","handleChange","e","value","target","f","_objectSpread","className","children","fileName","_jsxFileName","lineNumber","columnNumber","filteredUsers","filter","u","_u$profile","_u$profile$name","_u$phone","_u$profile2","_u$profile2$email","toLowerCase","includes","style","marginBottom","type","placeholder","onChange","map","r","onClick","display","justifyContent","trigger","content","current","documentTitle","pageStyle","ref","textAlign","Date","toLocaleDateString","_u$profile3","_u$profile4","_u$profile5","colSpan","required","loc","_c","$RefreshReg$"],"sources":["D:/acm/ACM-main/client/src/pages/admin/AdminUsers.js"],"sourcesContent":["// AdminUsers.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport ReactToPrint from 'react-to-print'; // NEW: Import ReactToPrint\n\n// API base URL for admin user management\nconst API_URL = 'http://localhost:5000/api/admin/users';\n\nfunction AdminUsers() {\n  const [users, setUsers] = useState([]);\n  const [activeTab, setActiveTab] = useState('customer'); // Use backend role names for tabs\n  const [showModal, setShowModal] = useState(false);\n  const [editingUser, setEditingUser] = useState(null);\n  const [form, setForm] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    password: '',\n    role: 'customer', // Default to customer\n    address: '',\n  });\n  const [loading, setLoading] = useState(true);\n  const [submitError, setSubmitError] = useState('');\n  const [submitSuccess, setSubmitSuccess] = useState('');\n  const [searchTerm, setSearchTerm] = useState(''); // NEW: Search term state\n\n  const componentRef = useRef(); // NEW: Ref for the component to print\n\n  const locations = [\n    'Guntur','Prakasam','Krishna','Vijayawada','Nellore',\n    'Ongole','Tenali','Narasaraopet'\n  ];\n  \n  // Role mapping between display names and database values\n  const roleDisplayMap = {\n    'customer': 'Customer',\n    'employee': 'Employee',\n    'customercare': 'Customer Care',\n    'admin': 'Admin'\n  };\n  const roles = Object.keys(roleDisplayMap); // Array of backend role names\n\n  // Fetch users from database on mount\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  async function fetchUsers() {\n    try {\n      setLoading(true);\n      const token = sessionStorage.getItem('token'); // Changed from localStorage\n      if (!token) {\n        setSubmitError(\"Authentication required. Please log in.\");\n        setLoading(false);\n        return;\n      }\n      const { data } = await axios.get(API_URL, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setUsers(data);\n      setSubmitError('');\n    } catch (err) {\n      console.error('Fetch failed', err);\n      setSubmitError(err.response?.data?.message || 'Failed to load users. Please check your connection or login again.');\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function openModal(user = null) {\n    setSubmitError('');\n    setSubmitSuccess('');\n    if (user) {\n      setEditingUser(user);\n      setForm({\n        name: user.profile?.name || '',\n        email: user.profile?.email || '',\n        phone: user.phone || '',\n        password: '', // Don't populate password for security\n        role: user.role || 'customer',\n        address: user.profile?.address || ''\n      });\n    } else {\n      setEditingUser(null);\n      setForm({\n        name:'', email:'', phone:'', password:'', role:activeTab, address:''\n      });\n    }\n    setShowModal(true);\n  }\n\n  async function saveUser() {\n    setSubmitError('');\n    setSubmitSuccess('');\n    try {\n      // Client-side validation\n      if (!form.name.trim()) {\n        setSubmitError('Name is required');\n        return;\n      }\n      if (!form.phone.trim()) {\n        setSubmitError('Phone number is required');\n        return;\n      }\n      if (!/^\\d{10}$/.test(form.phone.trim())) {\n        setSubmitError('Phone number must be a 10-digit number');\n        return;\n      }\n      if (!editingUser && !form.password.trim()) {\n        setSubmitError('Password is required for new users');\n        return;\n      }\n      if (form.password.trim() && form.password.trim().length < 6) {\n        setSubmitError('Password must be at least 6 characters long');\n        return;\n      }\n      if (form.email.trim() && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.email.trim())) {\n        setSubmitError('Invalid email format');\n        return;\n      }\n\n      const token = sessionStorage.getItem('token'); // Changed from localStorage\n      if (!token) {\n        setSubmitError('You must be logged in');\n        return;\n      }\n\n      const headers = {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      };\n\n      // Format user data according to the database schema\n      const userData = {\n        phone: form.phone.trim(),\n        role: form.role,\n        profile: {\n          name: form.name.trim(),\n          email: form.email.trim() || '',\n          address: form.address.trim() || ''\n        }\n      };\n\n      // Only include password for new users or if password field is filled\n      if (form.password.trim()) {\n        userData.password = form.password.trim();\n      }\n\n      console.log('Sending user data:', userData); // Added console log\n\n      if (editingUser) {\n        // Update existing user\n        await axios.put(`${API_URL}/${editingUser._id}`, userData, { headers });\n        setSubmitSuccess('User updated successfully');\n      } else {\n        // Create new user\n        await axios.post(API_URL, userData, { headers });\n        setSubmitSuccess('User created successfully');\n      }\n      \n      setShowModal(false);\n      fetchUsers(); // Refresh the list\n      setTimeout(() => setSubmitSuccess(''), 3000); // Clear success message\n    } catch (error) {\n      console.error('Error saving user:', error);\n      setSubmitError(error.response?.data?.message || error.message);\n    }\n  }\n\n  async function deleteUser(id) {\n    if (!window.confirm('Are you sure you want to delete this user?')) return;\n    setSubmitError('');\n    setSubmitSuccess('');\n    try {\n      const token = sessionStorage.getItem('token'); // Changed from localStorage\n      if (!token) {\n        setSubmitError(\"Authentication required. Please log in.\");\n        return;\n      }\n      await axios.delete(`${API_URL}/${id}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      await fetchUsers();\n      setSubmitSuccess('User deleted successfully');\n      setTimeout(() => setSubmitSuccess(''), 3000); // Clear success message\n    } catch (err) {\n      console.error('Delete failed', err);\n      setSubmitError(`Error deleting user: ${err.response?.data?.message || 'Unknown error'}`);\n    }\n  }\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setForm(f => ({ ...f, [name]: value }));\n  }\n\n  if (loading) {\n    return <p className=\"text-center\">Loading users...</p>;\n  }\n\n  const filteredUsers = users.filter(u => \n    u.role === activeTab &&\n    (u.profile?.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n     u.phone?.includes(searchTerm) ||\n     u.profile?.email?.toLowerCase().includes(searchTerm.toLowerCase()))\n  );\n\n  return (\n    <div className=\"admin-page-container\">\n      <h2 className=\"page-title\">User Management</h2>\n\n      {submitError && (\n        <div className=\"status-message error\">\n          {submitError}\n        </div>\n      )}\n      {submitSuccess && (\n        <div className=\"status-message success\">\n          {submitSuccess}\n        </div>\n      )}\n\n      {/* Search Input */}\n      <div className=\"form-group\" style={{ marginBottom: '20px' }}>\n        <input\n          type=\"text\"\n          placeholder=\"Search by name, phone, or email...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"form-control\"\n        />\n      </div>\n\n      {/* Tabs */}\n      <div className=\"tab-nav\">\n        {roles.map(r => (\n          <button\n            key={r}\n            onClick={()=>setActiveTab(r)}\n            className={`tab-button ${activeTab===r?'active':''}`}\n          >\n            {roleDisplayMap[r]}s ({users.filter(u=>u.role===r).length})\n          </button>\n        ))}\n      </div>\n\n      {/* Add and Print Buttons */}\n      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '1rem' }}>\n        <button\n          onClick={()=>openModal()}\n          className=\"btn btn-accent\"\n        >\n          ➕ Add {roleDisplayMap[activeTab]}\n        </button>\n        <ReactToPrint\n          trigger={() => <button className=\"btn btn-secondary\">🖨️ Print {roleDisplayMap[activeTab]}s</button>}\n          content={() => componentRef.current}\n          documentTitle={`${roleDisplayMap[activeTab]}s List`}\n          pageStyle=\"@page { size: A4; margin: 10mm; } @media print { body { -webkit-print-color-adjust: exact; } }\"\n        />\n      </div>\n\n      {/* Table - wrapped with ref for printing */}\n      <div ref={componentRef}>\n        <h3 style={{ textAlign: 'center', marginBottom: '1rem', display: 'none' }} className=\"print-only\">\n          {roleDisplayMap[activeTab]}s List - {new Date().toLocaleDateString()}\n        </h3>\n        <table className=\"data-table\">\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Email</th>\n              <th>Phone</th>\n              {(activeTab==='employee' || activeTab==='customer') && <th>Address</th>}\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredUsers.map(u=>(\n              <tr key={u._id}>\n                <td>{u.profile?.name || 'N/A'}</td>\n                <td>{u.profile?.email || 'N/A'}</td>\n                <td>{u.phone || 'N/A'}</td>\n                {(activeTab==='employee' || activeTab==='customer') && <td>{u.profile?.address || 'N/A'}</td>}\n                <td>\n                  <button \n                    onClick={()=>openModal(u)} \n                    className=\"btn btn-secondary btn-sm\"\n                  >\n                    Edit\n                  </button>\n                  <button \n                    onClick={()=>deleteUser(u._id)}\n                    className=\"btn btn-danger btn-sm\"\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n            {filteredUsers.length===0&&(\n              <tr>\n                <td colSpan={activeTab==='employee' || activeTab==='customer' ? 5 : 4} className=\"text-center\">\n                  No {roleDisplayMap[activeTab].toLowerCase()}s found.\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Modal for Add/Edit */}\n      {showModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <h3 className=\"modal-title\">{editingUser ? 'Edit User' : `Add New ${roleDisplayMap[activeTab]}`}</h3>\n            \n            <div className=\"form-group\">\n              <label>Name:</label>\n              <input \n                name=\"name\"\n                type=\"text\" \n                value={form.name} \n                onChange={handleChange}\n                className=\"form-control\"\n                required\n              />\n            </div>\n            \n            <div className=\"form-group\">\n              <label>Email:</label>\n              <input \n                name=\"email\"\n                type=\"email\" \n                value={form.email} \n                onChange={handleChange}\n                className=\"form-control\"\n              />\n            </div>\n            \n            <div className=\"form-group\">\n              <label>Phone:</label>\n              <input \n                name=\"phone\"\n                type=\"text\" \n                value={form.phone} \n                onChange={handleChange}\n                className=\"form-control\"\n                required\n                placeholder=\"10-digit number\"\n              />\n            </div>\n            \n            <div className=\"form-group\">\n              <label>\n                Password {editingUser && '(leave blank to keep current)'}:\n              </label>\n              <input \n                name=\"password\"\n                type=\"password\" \n                value={form.password} \n                onChange={handleChange}\n                className=\"form-control\"\n                required={!editingUser}\n              />\n            </div>\n            \n            <div className=\"form-group\">\n              <label>Role:</label>\n              <select \n                name=\"role\"\n                value={form.role} \n                onChange={handleChange}\n                className=\"form-control\"\n              >\n                {roles.map(role=>(\n                  <option key={role} value={role}>{roleDisplayMap[role]}</option>\n                ))}\n              </select>\n            </div>\n            \n            {(form.role === 'employee' || form.role === 'customer') && (\n              <div className=\"form-group\">\n                <label>\n                  {form.role === 'employee' ? 'Work Address:' : 'Address:'}\n                </label>\n                {form.role === 'employee' ? (\n                  <select \n                    name=\"address\"\n                    value={form.address} \n                    onChange={handleChange}\n                    className=\"form-control\"\n                  >\n                    <option value=\"\">Select Location</option>\n                    {locations.map(loc=>(\n                      <option key={loc} value={loc}>{loc}</option>\n                    ))}\n                  </select>\n                ) : (\n                  <textarea\n                    name=\"address\"\n                    value={form.address}\n                    onChange={handleChange}\n                    className=\"form-control\"\n                  />\n                )}\n              </div>\n            )}\n            \n            <div className=\"modal-actions\">\n              <button \n                onClick={()=>setShowModal(false)} \n                className=\"btn btn-outline\"\n              >\n                Cancel\n              </button>\n              <button \n                onClick={saveUser}\n                className=\"btn btn-primary\"\n              >\n                Save\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default AdminUsers;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}