{"ast":null,"code":"import _objectSpread from \"D:/acm/ACM-main/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _jsxFileName = \"D:\\\\acm\\\\ACM-main\\\\client\\\\src\\\\pages\\\\customer\\\\CustomerProfile.js\",\n  _s = $RefreshSig$();\n// client/src/pages/CustomerProfile.js\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CustomerProfile() {\n  _s();\n  const [profile, setProfile] = useState({\n    name: \"\",\n    phone: \"\",\n    email: \"\",\n    address: \"\",\n    preferences: {}\n  });\n  const [serviceHistory, setServiceHistory] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [editMode, setEditMode] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [showPasswordReset, setShowPasswordReset] = useState(false);\n  const [passwordData, setPasswordData] = useState({\n    currentPassword: \"\",\n    newPassword: \"\",\n    confirmPassword: \"\"\n  });\n  const [passwordError, setPasswordError] = useState(\"\");\n  const [passwordSuccess, setPasswordSuccess] = useState(\"\");\n  const navigate = useNavigate();\n\n  // Function to fetch the profile data and service history\n  const fetchProfile = async () => {\n    try {\n      var _userData$profile, _userData$profile2, _userData$profile3;\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        navigate(\"/login\");\n        return;\n      }\n      setLoading(true);\n\n      // Fetch profile data\n      const profileRes = await axios.get(\"http://localhost:5000/api/customer/profile\", {\n        headers: {\n          Authorization: \"Bearer \".concat(token)\n        }\n      });\n\n      // Map the data from the User model structure\n      const userData = profileRes.data;\n      setProfile({\n        name: ((_userData$profile = userData.profile) === null || _userData$profile === void 0 ? void 0 : _userData$profile.name) || \"\",\n        phone: userData.phone || \"\",\n        email: ((_userData$profile2 = userData.profile) === null || _userData$profile2 === void 0 ? void 0 : _userData$profile2.email) || \"\",\n        address: ((_userData$profile3 = userData.profile) === null || _userData$profile3 === void 0 ? void 0 : _userData$profile3.address) || \"\"\n      });\n\n      // Fetch service history, ensuring service details are populated\n      const bookingsRes = await axios.get(\"http://localhost:5000/api/customer/bookings\", {\n        headers: {\n          Authorization: \"Bearer \".concat(token)\n        }\n      });\n      setServiceHistory(bookingsRes.data);\n    } catch (err) {\n      console.error(\"❌ Failed to fetch profile or service history:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchProfile();\n  }, [navigate]);\n  const handleChange = e => {\n    setProfile(_objectSpread(_objectSpread({}, profile), {}, {\n      [e.target.name]: e.target.value\n    }));\n  };\n  const handleSave = async e => {\n    e.preventDefault();\n    setSaving(true);\n    try {\n      const token = localStorage.getItem(\"token\");\n\n      // Format the data according to the User model structure\n      const profileData = {\n        profile: {\n          name: profile.name,\n          email: profile.email,\n          address: profile.address\n        },\n        phone: profile.phone\n      };\n      await axios.put(\"http://localhost:5000/api/customer/profile\", profileData, {\n        headers: {\n          Authorization: \"Bearer \".concat(token)\n        }\n      });\n      setEditMode(false);\n      // Re-fetch the data after a successful save to ensure the UI is in sync\n      await fetchProfile();\n\n      // Show success message or notification\n      alert(\"Profile updated successfully!\");\n    } catch (err) {\n      console.error(\"❌ Failed to save profile:\", err);\n      alert(\"Failed to update profile. Please try again.\");\n    } finally {\n      setSaving(false);\n    }\n  };\n  const handlePasswordChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setPasswordData(_objectSpread(_objectSpread({}, passwordData), {}, {\n      [name]: value\n    }));\n    // Clear any previous error/success messages when user starts typing\n    setPasswordError(\"\");\n    setPasswordSuccess(\"\");\n  };\n  const handlePasswordReset = async e => {\n    e.preventDefault();\n\n    // Validate passwords match\n    if (passwordData.newPassword !== passwordData.confirmPassword) {\n      setPasswordError(\"New passwords do not match\");\n      return;\n    }\n\n    // Validate password length\n    if (passwordData.newPassword.length < 6) {\n      setPasswordError(\"New password must be at least 6 characters\");\n      return;\n    }\n    try {\n      const token = localStorage.getItem(\"token\");\n      await axios.put(\"http://localhost:5000/api/customer/password\", {\n        currentPassword: passwordData.currentPassword,\n        newPassword: passwordData.newPassword\n      }, {\n        headers: {\n          Authorization: \"Bearer \".concat(token)\n        }\n      });\n\n      // Reset form and show success message\n      setPasswordData({\n        currentPassword: \"\",\n        newPassword: \"\",\n        confirmPassword: \"\"\n      });\n      setPasswordSuccess(\"Password updated successfully\");\n\n      // Hide success message after 3 seconds\n      setTimeout(() => {\n        setPasswordSuccess(\"\");\n      }, 3000);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Error updating password:\", error);\n      setPasswordError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Failed to update password\");\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    navigate(\"/login\");\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center\",\n    children: \"Loading profile...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card profile-container\",\n    style: {\n      maxWidth: 800,\n      margin: \"2rem auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"1.5rem\",\n        color: 'var(--color-text)'\n      },\n      children: \"\\uD83D\\uDC64 My Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSave,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          value: profile.name,\n          onChange: handleChange,\n          readOnly: !editMode,\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Phone:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"phone\",\n          value: profile.phone || \"\",\n          onChange: handleChange,\n          disabled: true // Phone number should not be editable\n          ,\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          value: profile.email,\n          onChange: handleChange,\n          readOnly: !editMode,\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Address:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"address\",\n          value: profile.address,\n          onChange: handleChange,\n          readOnly: !editMode,\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-danger\",\n            onClick: handleLogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-warning\",\n            onClick: () => setShowPasswordReset(!showPasswordReset),\n            children: showPasswordReset ? \"Hide Password Reset\" : \"Reset Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-outline\",\n            onClick: () => setEditMode(false),\n            disabled: saving,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            disabled: saving,\n            children: saving ? \"Saving...\" : \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: () => setEditMode(true),\n          children: \"Edit Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), showPasswordReset && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"password-reset-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          textAlign: \"center\",\n          marginBottom: \"1rem\"\n        },\n        children: \"Reset Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this), passwordError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-message error\",\n        children: passwordError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 13\n      }, this), passwordSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-message success\",\n        children: passwordSuccess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handlePasswordReset,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Current Password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"currentPassword\",\n            value: passwordData.currentPassword,\n            onChange: handlePasswordChange,\n            required: true,\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"New Password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"newPassword\",\n            value: passwordData.newPassword,\n            onChange: handlePasswordChange,\n            required: true,\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Confirm New Password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"confirmPassword\",\n            value: passwordData.confirmPassword,\n            onChange: handlePasswordChange,\n            required: true,\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\",\n            marginTop: \"1rem\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Update Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"service-history-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          textAlign: \"center\",\n          marginBottom: \"1rem\"\n        },\n        children: \"Service History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this), serviceHistory.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"data-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Service\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: serviceHistory.map(service => {\n            var _service$service;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: ((_service$service = service.service) === null || _service$service === void 0 ? void 0 : _service$service.type) || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: new Date(service.date).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"status-badge status-\".concat(service.status.toLowerCase().replace(' ', '-')),\n                  children: service.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 19\n              }, this)]\n            }, service._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: \"center\",\n          padding: \"1rem\",\n          background: \"var(--background-light)\",\n          borderRadius: \"4px\"\n        },\n        children: \"No service history found. Book a service to see your history here.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n}\n_s(CustomerProfile, \"RmVQ6eB5EcRXpnTMZx1clYEIpDo=\", false, function () {\n  return [useNavigate];\n});\n_c = CustomerProfile;\nexport default CustomerProfile;\nvar _c;\n$RefreshReg$(_c, \"CustomerProfile\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsxDEV","_jsxDEV","CustomerProfile","_s","profile","setProfile","name","phone","email","address","preferences","serviceHistory","setServiceHistory","loading","setLoading","editMode","setEditMode","saving","setSaving","showPasswordReset","setShowPasswordReset","passwordData","setPasswordData","currentPassword","newPassword","confirmPassword","passwordError","setPasswordError","passwordSuccess","setPasswordSuccess","navigate","fetchProfile","_userData$profile","_userData$profile2","_userData$profile3","token","localStorage","getItem","profileRes","get","headers","Authorization","concat","userData","data","bookingsRes","err","console","error","handleChange","e","_objectSpread","target","value","handleSave","preventDefault","profileData","put","alert","handlePasswordChange","handlePasswordReset","length","setTimeout","_error$response","_error$response$data","response","message","handleLogout","removeItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","maxWidth","margin","textAlign","marginBottom","color","onSubmit","type","onChange","readOnly","disabled","onClick","required","marginTop","map","service","_service$service","Date","date","toLocaleDateString","status","toLowerCase","replace","_id","padding","background","borderRadius","_c","$RefreshReg$"],"sources":["D:/acm/ACM-main/client/src/pages/customer/CustomerProfile.js"],"sourcesContent":["// client/src/pages/CustomerProfile.js\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction CustomerProfile() {\n  const [profile, setProfile] = useState({\n    name: \"\",\n    phone: \"\",\n    email: \"\",\n    address: \"\",\n    preferences: {}\n  });\n  const [serviceHistory, setServiceHistory] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [editMode, setEditMode] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [showPasswordReset, setShowPasswordReset] = useState(false);\n  const [passwordData, setPasswordData] = useState({\n    currentPassword: \"\",\n    newPassword: \"\",\n    confirmPassword: \"\"\n  });\n  const [passwordError, setPasswordError] = useState(\"\");\n  const [passwordSuccess, setPasswordSuccess] = useState(\"\");\n\n  const navigate = useNavigate();\n\n  // Function to fetch the profile data and service history\n  const fetchProfile = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        navigate(\"/login\");\n        return;\n      }\n      setLoading(true);\n      \n      // Fetch profile data\n      const profileRes = await axios.get(\"http://localhost:5000/api/customer/profile\", {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      // Map the data from the User model structure\n      const userData = profileRes.data;\n      setProfile({\n        name: userData.profile?.name || \"\",\n        phone: userData.phone || \"\",\n        email: userData.profile?.email || \"\",\n        address: userData.profile?.address || \"\"\n      });\n      \n      // Fetch service history, ensuring service details are populated\n      const bookingsRes = await axios.get(\"http://localhost:5000/api/customer/bookings\", {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setServiceHistory(bookingsRes.data);\n    } catch (err) {\n      console.error(\"❌ Failed to fetch profile or service history:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchProfile();\n  }, [navigate]);\n\n  const handleChange = (e) => {\n    setProfile({ ...profile, [e.target.name]: e.target.value });\n  };\n\n  const handleSave = async (e) => {\n    e.preventDefault();\n    setSaving(true);\n    try {\n      const token = localStorage.getItem(\"token\");\n      \n      // Format the data according to the User model structure\n      const profileData = {\n        profile: {\n          name: profile.name,\n          email: profile.email,\n          address: profile.address\n        },\n        phone: profile.phone\n      };\n      \n      await axios.put(\n        \"http://localhost:5000/api/customer/profile\",\n        profileData,\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      setEditMode(false);\n      // Re-fetch the data after a successful save to ensure the UI is in sync\n      await fetchProfile();\n      \n      // Show success message or notification\n      alert(\"Profile updated successfully!\");\n    } catch (err) {\n      console.error(\"❌ Failed to save profile:\", err);\n      alert(\"Failed to update profile. Please try again.\");\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handlePasswordChange = (e) => {\n    const { name, value } = e.target;\n    setPasswordData({ ...passwordData, [name]: value });\n    // Clear any previous error/success messages when user starts typing\n    setPasswordError(\"\");\n    setPasswordSuccess(\"\");\n  };\n\n  const handlePasswordReset = async (e) => {\n    e.preventDefault();\n    \n    // Validate passwords match\n    if (passwordData.newPassword !== passwordData.confirmPassword) {\n      setPasswordError(\"New passwords do not match\");\n      return;\n    }\n    \n    // Validate password length\n    if (passwordData.newPassword.length < 6) {\n      setPasswordError(\"New password must be at least 6 characters\");\n      return;\n    }\n    \n    try {\n      const token = localStorage.getItem(\"token\");\n      await axios.put(\n        \"http://localhost:5000/api/customer/password\",\n        {\n          currentPassword: passwordData.currentPassword,\n          newPassword: passwordData.newPassword\n        },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      \n      // Reset form and show success message\n      setPasswordData({\n        currentPassword: \"\",\n        newPassword: \"\",\n        confirmPassword: \"\"\n      });\n      setPasswordSuccess(\"Password updated successfully\");\n      \n      // Hide success message after 3 seconds\n      setTimeout(() => {\n        setPasswordSuccess(\"\");\n      }, 3000);\n      \n    } catch (error) {\n      console.error(\"Error updating password:\", error);\n      setPasswordError(error.response?.data?.message || \"Failed to update password\");\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    navigate(\"/login\");\n  };\n\n  if (loading) return <p className=\"text-center\">Loading profile...</p>;\n\n  return (\n    <div className=\"card profile-container\" style={{ maxWidth: 800, margin: \"2rem auto\" }}>\n      <h3 style={{ textAlign: \"center\", marginBottom: \"1.5rem\", color: 'var(--color-text)' }}>👤 My Profile</h3>\n\n      <form onSubmit={handleSave}>\n        <div className=\"form-group\">\n          <label>Name:</label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={profile.name}\n            onChange={handleChange}\n            readOnly={!editMode}\n            className=\"form-control\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label>Phone:</label>\n          <input\n                type=\"text\"\n                name=\"phone\"\n                value={profile.phone || \"\"}\n                onChange={handleChange}\n                disabled={true} // Phone number should not be editable\n                className=\"form-control\"\n              />\n        </div>\n\n        <div className=\"form-group\">\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={profile.email}\n            onChange={handleChange}\n            readOnly={!editMode}\n            className=\"form-control\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label>Address:</label>\n          <textarea\n            name=\"address\"\n            value={profile.address}\n            onChange={handleChange}\n            readOnly={!editMode}\n            className=\"form-control\"\n          />\n        </div>\n\n        <div className=\"form-actions\">\n          <div>\n            <button\n              type=\"button\"\n              className=\"btn btn-danger\"\n              onClick={handleLogout}\n            >\n              Logout\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-warning\"\n              onClick={() => setShowPasswordReset(!showPasswordReset)}\n            >\n              {showPasswordReset ? \"Hide Password Reset\" : \"Reset Password\"}\n            </button>\n          </div>\n\n          {editMode ? (\n            <div className=\"form-actions-group\">\n              <button\n                type=\"button\"\n                className=\"btn btn-outline\"\n                onClick={() => setEditMode(false)}\n                disabled={saving}\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary\"\n                disabled={saving}\n              >\n                {saving ? \"Saving...\" : \"Save\"}\n              </button>\n            </div>\n          ) : (\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={() => setEditMode(true)}\n            >\n              Edit Profile\n            </button>\n          )}\n        </div>\n      </form>\n\n      {/* Password Reset Form */}\n      {showPasswordReset && (\n        <div className=\"password-reset-section\">\n          <h4 style={{ textAlign: \"center\", marginBottom: \"1rem\" }}>Reset Password</h4>\n          \n          {passwordError && (\n            <div className=\"status-message error\">\n              {passwordError}\n            </div>\n          )}\n          \n          {passwordSuccess && (\n            <div className=\"status-message success\">\n              {passwordSuccess}\n            </div>\n          )}\n          \n          <form onSubmit={handlePasswordReset}>\n            <div className=\"form-group\">\n              <label>Current Password:</label>\n              <input\n                type=\"password\"\n                name=\"currentPassword\"\n                value={passwordData.currentPassword}\n                onChange={handlePasswordChange}\n                required\n                className=\"form-control\"\n              />\n            </div>\n            \n            <div className=\"form-group\">\n              <label>New Password:</label>\n              <input\n                type=\"password\"\n                name=\"newPassword\"\n                value={passwordData.newPassword}\n                onChange={handlePasswordChange}\n                required\n                className=\"form-control\"\n              />\n            </div>\n            \n            <div className=\"form-group\">\n              <label>Confirm New Password:</label>\n              <input\n                type=\"password\"\n                name=\"confirmPassword\"\n                value={passwordData.confirmPassword}\n                onChange={handlePasswordChange}\n                required\n                className=\"form-control\"\n              />\n            </div>\n            \n            <div style={{ textAlign: \"center\", marginTop: \"1rem\" }}>\n              <button type=\"submit\" className=\"btn btn-primary\">\n                Update Password\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n      \n      {/* Service History Section */}\n      <div className=\"service-history-section\">\n        <h4 style={{ textAlign: \"center\", marginBottom: \"1rem\" }}>Service History</h4>\n        \n        {serviceHistory.length > 0 ? (\n          <table className=\"data-table\">\n            <thead>\n              <tr>\n                <th>Service</th>\n                <th>Date</th>\n                <th>Status</th>\n              </tr>\n            </thead>\n            <tbody>\n              {serviceHistory.map((service) => (\n                <tr key={service._id}>\n                  <td>{service.service?.type || 'N/A'}</td>\n                  <td>{new Date(service.date).toLocaleDateString()}</td>\n                  <td>\n                    <span className={`status-badge status-${service.status.toLowerCase().replace(' ', '-')}`}>\n                      {service.status}\n                    </span>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        ) : (\n          <p style={{ textAlign: \"center\", padding: \"1rem\", background: \"var(--background-light)\", borderRadius: \"4px\" }}>\n            No service history found. Book a service to see your history here.\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default CustomerProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}